" Determine the data directory for vim-plug installation
if has('nvim')
  let s:data_dir = stdpath('data')
else
  if has('win32') || has('win64')
    " On Windows Vim, use $HOME/vimfiles as data directory
    let s:data_dir = expand('$HOME') . '\vimfiles'
  else
    " On Unix-like Vim, use ~/.vim
    let s:data_dir = expand('~/.vim')
  endif
endif

let s:plug_path = s:data_dir . '/autoload/plug.vim'

" Install vim-plug if not installed
if empty(glob(s:plug_path))
  " Use curl to download plug.vim, create directories if needed
  silent execute '!curl -fLo ' . shellescape(s:plug_path) . ' --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'

  " Run PlugInstall once after Vim starts
  autocmd VimEnter * ++once PlugInstall | source $MYVIMRC
endif

" Space settings
set expandtab
set smarttab
set tabstop=4
set softtabstop=4
set shiftwidth=4
" Tabs settings
set showtabline=2
" Show line numbers
set number
" Highlight current line
set cursorline
" Enable syntax highlighting
syntax on
" Disable Vi compatibility
set nocompatible
" Search
set incsearch
" Show partial command you type in the last line of the screen.
set showcmd
" Show the mode you are on the last line.
set showmode
" Show matching words during a search.
set showmatch
" Use highlighting when doing a search.
set hlsearch
" Completion
set wildmenu
set wildmode=list:longest
" Set the commands to save in history default number is 20.
set history=1000
filetype on
filetype plugin indent on
" Disable bells
set noerrorbells
set novisualbell
" Enable mouse support
set mouse=a
" Highlight 110 collumn
set colorcolumn=110
set termguicolors
" Plugins via https://github.com/junegunn/vim-plug
call plug#begin()
" Catppuccin theme
Plug 'catppuccin/vim', { 'as': 'catppuccin' }
" Rust support
Plug 'rust-lang/rust.vim'
" Go support
Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }
" JS support
Plug 'pangloss/vim-javascript'
" Airline
Plug 'vim-airline/vim-airline'
call plug#end()
" Apply theme
silent! colorscheme catppuccin_mocha
" Hide mode
set noshowmode
" You can split a window into sections by typing `:split` or `:vsplit`.
" Display cursorline and cursorcolumn ONLY in active window.
augroup cursor_off
        autocmd!
            autocmd WinLeave * set nocursorline nocursorcolumn
                autocmd WinEnter * set cursorline cursorcolumn
augroup END

