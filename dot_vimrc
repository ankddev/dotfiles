" Determine the data directory for vim-plug installation
if has('nvim')
  let s:data_dir = stdpath('data')
else
  if has('win32') || has('win64')
    " On Windows Vim, use $HOME/vimfiles as data directory
    let s:data_dir = expand('$HOME') . '\vimfiles'
  else
    " On Unix-like Vim, use ~/.vim
    let s:data_dir = expand('~/.vim')
  endif
endif

let s:plug_path = s:data_dir . '/autoload/plug.vim'

" Install vim-plug if not installed
if empty(glob(s:plug_path))
  " Use curl to download plug.vim, create directories if needed
  silent execute '!curl -fLo ' . shellescape(s:plug_path) . ' --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'

  " Run PlugInstall once after Vim starts
  autocmd VimEnter * ++once PlugInstall | source $MYVIMRC
endif

" Tabs settings
set expandtab
set smarttab
set tabstop=4
set softtabstop=4
set shiftwidth=4
" Show line numbers
set number
" Enable syntax highlighting
syntax on
" Disable bells
set noerrorbells
set novisualbell
" Enable mouse support
set mouse=a
" Highlight 110 collumn
set colorcolumn=110
set termguicolors
" Plugins via https://github.com/junegunn/vim-plug
call plug#begin()
" Catppuccin theme
Plug 'catppuccin/vim', { 'as': 'catppuccin' }
" Rust support
Plug 'rust-lang/rust.vim'
" Go support
Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }
" JS support
Plug 'pangloss/vim-javascript'
call plug#end()
" Apply theme
silent! colorscheme catppuccin_mocha
